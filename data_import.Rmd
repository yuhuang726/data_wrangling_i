---
title: "Data Import"
output: github_document
---

install.packages("janitor")
install.packages("skimr")

```{r setup}
library(tidyverse)
library(readxl)
library(haven)
```

## Read in some data

Read in the litters dataset.
clean_names function is in the package "janitor". Since we did not library it, so we use "janitor::" to get the function. You can also library it at the beginning.
ckean_names: change blank into _ in the columns' names.

```{r}
litters_df = read_csv("data/FAS_litters.csv")
litters_df = janitor::clean_names(litters_df)
```

## Take a look at the data

printing in the console

```{r}
litters_df
```

```{r}
head(litters_df)
tail(litters_df)
```

skim can give you missing value number, min, max, mean, p25, p75, small histogram (but prof dosen't use it frequently, he prefer view).
view will open up a new window to show full dataset. But that will make Knit difficult so usually avoid using it in code chunk in R markdown.

view(litters_df)

```{r}
skimr::skim(litters_df)
```

?read_csv

## Options to read_csv

Check out `?read_csv()` for more information.

litters_df = read_csv("data/FAS_litters.csv", skip = 10, col_names = FALSE)

skip = 10: skip the first 10 rows
col_name = FALSE: the first row is not columns' name and R will name them as X1 to Xn

litters_df = read_csv("data/FAS_litters.csv", na = c("", "NA", ".", 999))

na = c("", "NA", ".", 999)): when r see these four will treat them as missing value.

## Other file formats

Read in an excel file.

```{r}
mlb_df = read_excel("data/mlb11.xlsx")
mlb_df
```
?read_excel


mlb_df = read_excel("data/mlb11.xlsx", range = "A1:F7")

sheet = : import specific sheet
range = : import specific range, from column a to b

Read in a sas file.
```{r}
pulse_df = read_sas("data/public_pulse_data.sas7bdat")
pulse_df
```

## Comparison with Base R

what about `read.csv` ...?

Don't use read.csv since it is more difficult to look
read_csv is better.
```{r}
litters_base = read.csv("data/FAS_litters.csv")
litters_readr = read_csv("data/FAS_litters.csv")

litters_base
litters_readr
```

## Exporting data

Export the mlb sub-table.

```{r}
write_csv(mlb_df, "data/mlb_subtable.csv")
```

